import{n as l,c as s}from"./index-fe169e0d.js";var c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("t-form",{on:{submit:e.handleSubmit}},[e._l(e.apiKeys,function(n,r){return a("t-form-item",{key:r,attrs:{label:n.name,name:n.name}},[a("t-input",{attrs:{placeholder:"请输入"+n.name+"的API密钥"},model:{value:n.value,callback:function(o){e.$set(n,"value",o)},expression:"key.value"}})],1)}),a("t-form-item",{staticStyle:{"margin-left":"100px"}},[a("t-space",{attrs:{size:"10px"}},[a("t-button",{attrs:{type:"submit",theme:"primary",ghost:""}},[e._v("提交")])],1)],1)],2)},u=[];const m={data(){return{apiKeys:[],originalApiKeys:{}}},methods:{handleSubmit(){this.apiKeys.forEach(e=>{this.originalApiKeys[e.name]!==e.value&&this.$request.post("/api/subdomain_scanner/config/update",{key:e.name,value:e.value}).then(t=>{s.success("更新"+e.name+"成功"),this.originalApiKeys[e.name]=e.value}).catch(t=>{s.error("更新"+e.name+"失败")})})},fetchData(){this.$request.get("/api/subdomain_scanner/config").then(e=>{this.apiKeys=Object.keys(e.data).map(t=>({name:t,value:e.data[t]||""})),this.apiKeys.forEach(t=>{this.originalApiKeys[t.name]=t.value})}).catch(e=>{console.error("Failed to fetch API keys:",e)})}},mounted(){this.fetchData()}},i={};var p=l(m,c,u,!1,_,"20ff95ab",null,null);function _(e){for(let t in i)this[t]=i[t]}const f=function(){return p.exports}();export{f as default};
